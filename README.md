# Менеджер заметок

Менеджер заметок - это простое приложение на Python, которое позволяет пользователям создавать, хранить, искать и удалять заметки. Приложение использует базу данных SQLite для хранения заметок.

## Основная функциональность

Приложение предоставляет следующие функции:

1. **Добавление новой заметки**: Пользователь может добавить новую заметку, указав заголовок и содержание. Заметка сохраняется в базе данных.

2. **Просмотр списка всех заметок**: Приложение отображает список всех заметок с их заголовками. Пользователь может выбрать заметку из списка для просмотра подробной информации.

3. **Поиск заметки**: Пользователь может ввести ключевое слово или фразу для поиска. Приложение отображает список заметок, содержащих данное ключевое слово.

4. **Удаление заметки**: Пользователь может выбрать заметку из списка и удалить её. Заметка удаляется из базы данных.

## Структура программы

Программа состоит из следующих модулей:

- **`database.py`**: Модуль для работы с базой данных SQLite, включая создание таблицы и выполнение операций CRUD (create, read, update, delete).
  
- **`main.py`**: Основной исполняемый файл приложения, который обеспечивает интерфейс пользователя для работы с менеджером заметок.
  
- **`notes.py`**: Модуль для управления заметками, включая добавление, получение, поиск и удаление заметок.
  
- **`search.py`**: Модуль для поиска заметок по ключевому слову или фразе.

- **`utils.py`**: Модуль с вспомогательными функциями для обработки пользовательского ввода, таких как валидация и очистка.

## Установка и запуск

1. Убедитесь, что у вас установлен Python версии 3.x.
2. Склонируйте репозиторий с помощью команды:
    ```
    git clone https://github.com/Shawwye/notes-application.git
    ```
3. Перейдите в директорию проекта:
    ```
    cd notes-application
    ```
4. Запустите приложение:
    ```
    python main.py
    ```


# Модуль `main.py`

Модуль `main.py` представляет собой основной исполняемый файл приложения, который обеспечивает интерфейс пользователя для работы с менеджером заметок.

## Функции:

- `display_menu() -> None`: Функция для отображения главного меню приложения.

- `main()`: Главная функция, которая обеспечивает основной цикл работы приложения. В этой функции происходит инициализация менеджеров заметок и поиска, а также обработка пользовательского ввода.

### Основной цикл работы приложения:

1. Отображается главное меню приложения с различными опциями.
2. Пользователь выбирает опцию, в зависимости от которой выполняются соответствующие действия.
3. Опции включают в себя просмотр списка заметок, добавление новой заметки, поиск заметок по ключевому слову, удаление заметки и просмотр заметки по её уникальному идентификатору (ID).
4. Пользователь может выйти из приложения, выбрав соответствующую опцию.

#### Основные функции:

- `main()`: Основная функция, которая обеспечивает выполнение основного цикла работы приложения.

- `display_menu() -> None`: Функция для отображения главного меню приложения.

## Пример использования:

```python
if __name__ == "__main__":
    main()
```


# Модуль `database.py`

Модуль `database.py` содержит класс `DatabaseManager`, который обеспечивает взаимодействие с базой данных SQLite для хранения заметок.

## Класс `DatabaseManager`

`DatabaseManager` - это класс для работы с базой данных SQLite.

### Методы:

- `__init__(self, db_name='notes.db')`: Конструктор класса. Принимает имя базы данных по умолчанию, если не указано другое. Устанавливает соединение с базой данных и курсор для выполнения операций.

- `connect(self)`: Метод для установки соединения с базой данных.

- `disconnect(self)`: Метод для разрыва соединения с базой данных.

- `create_table(self)`: Метод для создания таблицы `notes` в базе данных, если она ещё не существует.

- `add_note(self, title, content)`: Метод для добавления новой заметки в базу данных. Проверяет, существует ли заметка с таким же заголовком. Если нет, добавляет заметку.

- `get_all_notes(self) -> list`: Метод для получения списка всех заметок из базы данных.

- `get_note_by_id(self, note_id)`: Метод для получения заметки по её уникальному идентификатору (ID).

- `search_notes(self, keyword) -> list`: Метод для поиска заметок по ключевому слову или фразе в заголовке или содержании.

- `delete_note_by_id(self, note_id)`: Метод для удаления заметки по её уникальному идентификатору (ID).

## Пример использования:

```python
db_manager = DatabaseManager()
db_manager.create_table()

# Добавление новой заметки
db_manager.add_note("Новая заметка", "Это содержание новой заметки.")

# Получение списка всех заметок
all_notes = db_manager.get_all_notes()
print("Список всех заметок:", all_notes)

# Поиск заметок по ключевому слову
keyword = "заметка"
matching_notes = db_manager.search_notes(keyword)
print(f"Результаты поиска по ключевому слову '{keyword}':", matching_notes)

# Удаление заметки по ID
note_id = 1
db_manager.delete_note_by_id(note_id)
```


# Модуль `notes.py`

Модуль `notes.py` содержит классы `Note` и `NotesManager` для управления заметками.

## Класс `Note`

`Note` - это класс для представления отдельной заметки.

### Методы:

- `__init__(self, title, content)`: Конструктор класса. Принимает заголовок и содержание заметки.

## Класс `NotesManager`

`NotesManager` - это класс для управления заметками, используя экземпляр класса `DatabaseManager` для взаимодействия с базой данных.

### Методы:

- `__init__(self, db_manager)`: Конструктор класса. Принимает экземпляр `DatabaseManager` для работы с базой данных.

- `add_note(self, title, content)`: Метод для добавления новой заметки в базу данных.

- `get_all_notes(self)`: Метод для получения списка всех заметок из базы данных.

- `get_note_by_id(self, note_id)`: Метод для получения заметки по её уникальному идентификатору (ID).

- `search_notes(self, keyword)`: Метод для поиска заметок по ключевому слову или фразе.

- `delete_note_by_id(self, note_id)`: Метод для удаления заметки по её уникальному идентификатору (ID).

## Пример использования:

```python
from database import DatabaseManager

# Создание экземпляра класса DatabaseManager
db_manager = DatabaseManager()

# Создание экземпляра класса NotesManager
notes_manager = NotesManager(db_manager)

# Добавление новой заметки
notes_manager.add_note("Новая заметка", "Это содержание новой заметки.")

# Получение списка всех заметок
all_notes = notes_manager.get_all_notes()
print("Список всех заметок:", all_notes)

# Поиск заметок по ключевому слову
keyword = "заметка"
matching_notes = notes_manager.search_notes(keyword)
print(f"Результаты поиска по ключевому слову '{keyword}':", matching_notes)

# Удаление заметки по ID
note_id = 1
notes_manager.delete_note_by_id(note_id)
```


# Модуль `search.py`

Модуль `search.py` содержит класс `SearchManager`, который обеспечивает функционал поиска заметок по ключевому слову или фразе.

## Класс `SearchManager`

`SearchManager` - это класс для управления поиском заметок в базе данных.

### Методы:

- `__init__(self, db_manager)`: Конструктор класса. Принимает экземпляр `DatabaseManager` для работы с базой данных.

- `search_notes(self, keyword) -> list`: Метод для поиска заметок по ключевому слову или фразе в заголовке или содержании.

## Пример использования:

```python
from database import DatabaseManager

# Создание экземпляра класса DatabaseManager
db_manager = DatabaseManager()

# Создание экземпляра класса SearchManager
search_manager = SearchManager(db_manager)

# Ввод ключевого слова для поиска заметок
keyword = input("Введите ключевое слово для поиска заметок: ")

# Поиск заметок по ключевому слову
matching_notes = search_manager.search_notes(keyword)

# Вывод результатов поиска
if matching_notes:
    print("Результаты поиска:")
    for note in matching_notes:
        print(f"Заметка ID: {note[0]}, Заголовок: {note[1]}")
else:
    print("По вашему запросу ничего не найдено.")
```


# Модуль `utils.py`

Модуль `utils.py` содержит функции для валидации и очистки ввода.

## Функции:

- `validate_input(text, max_length) -> bool`: Функция для проверки введенного текста на пустоту и превышение максимальной длины.

  - Параметры:
    - `text`: Введенный текст.
    - `max_length`: Максимальная длина текста.

  - Возвращает `True`, если текст валиден, иначе `False`.

- `sanitize_input(text) -> str`: Функция для очистки введенного текста от опасных символов.

  - Параметры:
    - `text`: Введенный текст.

  - Возвращает очищенный текст.

## Пример использования:

```python
import re

# Функция validate_input
text = "Пример текста"
max_length = 20
if validate_input(text, max_length):
    print("Валидация успешна.")
else:
    print("Ошибка валидации.")

# Функция sanitize_input
text = "Текст с 'опасными' символами;"
sanitized_text = sanitize_input(text)
print("Очищенный текст:", sanitized_text)
```
